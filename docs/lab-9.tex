\documentclass[10pt]{article}

% Lines beginning with the percent sign are comments
% This file has been commented to help you understand more about LaTeX

% DO NOT EDIT THE LINES BETWEEN THE TWO LONG HORIZONTAL LINES

%---------------------------------------------------------------------------------------------------------

% Packages add extra functionality.
\usepackage{times,graphicx,epstopdf,fancyhdr,amsfonts,amsthm,amsmath,algorithm,algorithmic,xspace,hyperref}
\usepackage[left=1in,top=1in,right=1in,bottom=1in]{geometry}
\usepackage{sect sty}	%For centering section headings
\usepackage{enumerate}	%Allows more labeling options for enumerate environments 
\usepackage{epsfig}
\usepackage[space]{grffile}
\usepackage{booktabs}
\usepackage{forest}

% This will set LaTeX to look for figures in the same directory as the .tex file
\graphicspath{.} % The dot means current directory.

\pagestyle{fancy}

\lhead{Final Project}
\rhead{\today}
\lfoot{CSCI 334: Principles of Programming Languages}
\cfoot{\thepage}
\rfoot{Fall 2023}

% Some commands for changing header and footer format
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\headwidth}{\textwidth}
\renewcommand{\footrulewidth}{0.4pt}

% These let you use common environments
\newtheorem{claim}{Claim}
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{observation}{Observation}
\newtheorem{question}{Question}

\setlength{\parindent}{0cm}


%---------------------------------------------------------------------------------------------------------

% DON'T CHANGE ANYTHING ABOVE HERE

% Edit below as instructed

\begin{document}
  
\section*{Project Proposal}

Jacob Cohen, Kevin Pepin

\subsection{Introduction}

This scheduling language is motivated by a common ride-share problem that Williams students face. Amongst students groups, friend groups, and even campus wide, it is common for those with cars at Williams to offer rides to those that don't have. On the track and field team, someone might offer a ride to NYC at 2pm next Friday or to Boston the Tuesday before Thanksgiving. On the other side, I might request a ride to the Albany airport next Saturday to catch my flight or to the Pittsfield target to get some room supplies. With only a few offers and requests, the requesters can just check to see if there's an offer that fits their needs. However, during school breaks when the offer/request list is massive, finding a valid matching of offers and requests can be quite tedious. A language composed of standardized offer and request entries could allow programmers to model any rapidly evolving offer/request list given any number of constraints.\\
\\
There are a few major benefits of making this a programming language. First, a program can consist of any number of offers/requests, so it has the flexibility to find carpools for a small number of people but with the same language can find carpools across the entire Williams campus of 2,000 people. Next, since a program is just a collection of request/offers, if someone decides they won't be driving and revokes their offer, then finding a new carpool setup is just a matter of removing a line of the program and re-evaluating it. Changing a request or offer is merely a change in the program. As a programming language, it can be expanded to model as many constraints as we like as long as we can parse them and work them into the evaluation process. For example, requests and offers should be at a specific date/time. Offers should also only contain a fixed number of seats. We can add any additional features to our requests/offers in our programming language as long as we parse them and pass them to the evaluator.

\newpage
\subsection{Design Principles}

The guiding technicality of this language is that there are two main types it models: offers and requests. Each is a combining form containing several primitive types that make each offer or requests unique. A program in this language is some example scenario of offers and requests which looks like a list of them. This design choice allows individual offers/requests to be easily modified in a program and allows for a program to be infinitely long. This language syntax is intuitive because a program resembles the group chat that motivated the programming language where we can imagine multiple people would have communicated unstandardized offers and requests for rides.

\newpage
\subsection{Examples}

One example program:
    \begin{verbatim}
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats 
Request: Oscar to NYC at 15 on 11/5
\end{verbatim}
A second example program:
    \begin{verbatim}
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats
Offer: Jack to Boston at 12 on 11/26 with 1 seats
Request: Cooper to Boston at 12 on 11/26
Request: Oscar to NYC at 9-17 on 11/5\end{verbatim}
A third example program:
    \begin{verbatim}
Request: Cooper to Springfield, Pittsfield, Boston at 15 on 11/26
Request: Oscar to NYC, Westchester at 9 on 11/5
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats
Offer: Jack to Boston at 12 on 11/26 with 1 seats
\end{verbatim}

\newpage
\subsection{Language Concepts}

A programming contains one or more of the main combining forms: Offers and Requests. Offers contains the following:
    \begin{enumerate}
        \item A name which is a primitive
        \item A location which is a primitive
        \item A TimeRange which is a combining form containing two times or just a time primitive
        \item A DateRange which is a combining form containing two dates or just a date primitive
        \item A seatCount which is a primitive int
    \end{enumerate}
    Requests contains the following:
    \begin{enumerate}
        \item A name which is a primitive
        \item A locationList which is one or more primitive locations
        \item A TimeRange which is a combining form containing two times or just a time primitive
        \item A DateRange which is a combining form containing two dates or just a date primitive
    \end{enumerate}
    The key idea here is that our program is composed of several Offers and Requests which are each a combination of a few primitives that make them unique. A program may model a real-world set of requests/offers or may be some fictional representation. The flexibility of Offers and Requests mean that a program can represent endless scenarios. We also have a few other combining forms to allow us to express ranges of times, dates, and cities that way the programming language can model flexibility in someone's schedule.

\newpage
\subsection{Syntax}

The syntax in the examples above fits the following BNF. It contains some shorthand notation for representing time in 24 hour format and calendar dates.

\begin{verbatim}
<inputSchedule>    ::= <event><ws><inputSchedule>
                    |  <event>
<event>            ::= <offer>
                    |  <request>
<offer>            ::= Offer:<ws><name><ws>to<ws><location><ws>at<ws><timeRange><ws>
                               on<ws><dateRange><ws>with<ws><seatCount><ws>seats
<Request>          ::= Request:<ws><name><ws>to<ws><locationList><ws>at<ws><timeRange>
                               <ws>on<ws><dateRange>
<timeRange>        ::= <time>
                    |  <time>-<time>
<dateRange>        ::= <date>
                    |  <date>-<date>
<locationList>     ::= <location>
                    |  <location><ws>,<ws><locationList>
<name>             ::= <letter>+
<location>         ::= <letter>+
<seatCount>        ::= <digit>+
<digit>            ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
<time>             ::= 0| 1 | 2 | ... | 23
<date>             ::= 1/1 | 1/2 | ... | 12/30 | 12/31
<letter>           ::= \alpha \in {a...z}
                    |  \alpha \in {A...Z}
<ws>               ::= ‚ê£+
                
\end{verbatim}

\newpage
\subsection{New Semantics (Lab 9)}
\begin{center}
    \begin{tabular}{  p{4cm} | p{2cm} | p{2cm} | p{2cm} | p{6cm} }
    \textbf{Syntax} & \textbf{Abstract Syntax} & \textbf{Type} & \textbf{Prec./Assoc.} & \textbf{Meaning} \\ \hline
    $l$ & Letter of char & char & n/a & $l$ is a primitive. We represent letters using the F\# char data type. \\ \hline
    $d$ & Digit of int & int & n/a & $d$ is a primitive. We represent digits using the F\# int data type. \\ \hline
    $time$ & Time of int & int & n/a & $time$ is a primitive. We represent times using the F\# int data type (The existing parser does not limit time to be between 0-23).\\ \hline
    $date$ & Date of int * int & int $\to$ int $\to$ Date & n/a & Creates a $date$ type from two integers.\\ \hline
    $seatCount$ & seatCount of int & int & n/a & seatCount is an object created from an integer which represents the number of seats available in an offer. \\ \hline
    $location$ & location of string & string & n/a & location is string which represents where someone is offering to drive/requesting to go to. \\ \hline
    $name$ & name of string & string & n/a & name is string which represents someone who is either offering to drive somewhere or requesting a ride somewhere. \\ \hline
    $locationList$ &  locationList of location List & location List & n/a & A list of location types.\\ \hline
    $dateRange$ &  dateRange of date * date & dateRange & n/a & A dateRange type storing two date types.\\ \hline
    $timeRange$ &  timeRange of time * time & timeRange & n/a & A timeRange type storing two time types.\\ \hline
    $Offer:$ name to locationList at timeRange on dateRange with seatCount seats & Event of name * locationList * timeRange * dateRange * seatCount & name $\to$ locationList $\to$ timeRange $\to$ dateRange $\to$ seatCount $\to$ Event & n/a & Creates an Event type with Offer constructor the provided fields.\\ \hline
   $ Request:$ name to locationList at timeRange on dateRange & Event of name * locationList * timeRange * dateRange & name $\to$ locationList $\to$ timeRange $\to$ dateRange $\to$ Event & n/a & Creates an Event type with the Request constructor using the provided fields.\\ \hline
    $e_1$ $e_2$ $e_3$ $e_4$ $...$ & inputSchedule of Event list & Event list $\to$ String & n/a (Order of events in the list does not impact the final evaluation) & inputSchedule evaluates all of the Events, returning a string representation of the optimal pairing of Offer and Request events.
    \end{tabular}
\end{center}

\newpage
\subsection{Old Semantics (Lab 8)}

\begin{enumerate}
    \item[i.] The primitives in this language are name, location, digit, time, and date. Each of these can not be broken down further into something that has meaning in our programming language. A name is the name of someone offering a requesting. The location is a place that the offer/request goes to. While these can both be broken down into chars, the char's don't mean anything in our language. Digits can not be broken down further since they are already $0-9$. Time is a whole number $1-24$ so can't be broken down further into anything that has meaning in our programming language. Dates are the date an offer/request is made for so can't be broken down into anything smaller that has meaning in our language.

    \item[ii.] Our program is a combination of offers and requests. An offer is a combination of a name, location, timeRange, dateRange, and seatCount. A request is a combination of a name, locationList, timeRange, and dateRange. A timeRange can either be a time (which is a primitive) or it can combine two times. A dateRange can either be a date (which is a primitive) or it can combine two dates. A locationList can either be a location (which is a primitive) or it can combine two or more locations. A seatCount combines one or more digits (which are primitive). Name is the last primitive.

    \item[iii.]
    We need to define an ADT:
\begin{verbatim}
type Entry =
| Offer of  name * location * timeRange * dateRange * seatCount
| Request of name * locationList * timeRange * dateRange
\end{verbatim}
    Since we can have infinitely many requests and offers, the AST would contain:
\begin{verbatim}
type Expr = Entry list
\end{verbatim}

    \item[iv.1.] We can make an AST for the first example program which is repeated here for reference. Note that this AST uses $()$ in place of $<>$ to save space wdith wise.
\begin{verbatim}
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats 
Request: Oscar to NYC at 15 on 11/5
\end{verbatim}
    \begin{center}
    \begin{forest}
      [(expression)
        [(offer)(expression)
            [(offer)
                [(name)
                    [Jacob]
                ]
                [(location)
                    [NYC]
                ]
                [(timeRange)
                    [(time)-(time)
                        [14]
                        [16]
                    ]
                ]
                [(dateRange)
                    [(date)-(date)
                        [11/5]
                        [11/6]
                    ]
                ]
                [(seatCount)
                    [(digit)+
                        [3]
                    ]
                ]
            ]
            [(expression)
                [(request)
                    [(name)
                        [Oscar]
                    ]
                    [(location)
                        [NYC]
                    ]
                    [(timeRange)
                        [(time)
                        [15]
                        ]
                    ]
                    [(dateRange)
                        [(date)
                            [11/5]
                        ]
                    ]
                ]
            ]
        ]
      ]
    \end{forest}
  \end{center}
  \newpage
  
  \item[iv.2.]{For the second program we have
      \begin{verbatim}
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats
Offer: Jack to Boston at 12 on 11/26 with 1 seats
Request: Cooper to Boston at 12 on 11/26
Request: Oscar to NYC at 9-17 on 11/5
\end{verbatim}
 \scalebox{0.55}{
  \rotatebox{90}{
    \begin{forest}
      [(expression)
        [(offer)(expression)
            [(offer)
                [(name)
                    [Jacob]
                ]
                [(location)
                    [NYC]
                ]
                [(timeRange)
                    [(time)-(time)
                        [14]
                        [16]
                    ]
                ]
                [(dateRange)
                    [(date)-(date)
                        [11/5]
                        [11/6]
                    ]
                ]
                [(seatCount)
                    [(digit)+
                        [3]
                    ]
                ]
            ]
            [(offer)(expression)
                [(offer)
                    [(name)
                        [Jack]
                    ]
                    [(location)
                        [Boston]
                    ]
                    [(timeRange)
                        [(time)
                            [12]
                        ]
                    ]
                    [(dateRange)
                        [(date)
                            [11/26]
                        ]
                    ]
                    [(seatCount)
                        [(digit)+
                            [1]
                        ]
                    ]
                ]
                [(request)(expression)
                    [(request)
                        [(name)
                            [Cooper]
                        ]
                        [(location)
                            [Boston]
                        ]
                        [(timeRange)
                            [(time)
                            [12]
                            ]
                        ]
                        [(dateRange)
                            [(date)
                                [11/26]
                            ]
                        ]
                    ]
                    [(request)
                        [(name)
                            [Oscar]
                        ]
                        [(location)
                            [NYC]
                        ]
                        [(timeRange)
                            [(time)
                            [9]
                            ]
                            [(time)
                            [17]
                            ]
                        ]
                        [(dateRange)
                            [(date)
                                [11/5]
                            ]
                        ]
                    ]
                ]
            ]
        ]
      ]
    \end{forest}
  }
}
}
    \newpage
    \item[iv.3.]For the third program we have
      \begin{verbatim}
Request: Cooper to Springfield, Pittsfield, Boston at 15 on 11/26
Request: Oscar to NYC, Westchester at 9 on 11/5
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats
Offer: Jack to Boston at 12 on 11/26 with 1 seats\end{verbatim}
    \scalebox{0.5}{
      \rotatebox{90}{
        \begin{forest}
          [(expression)
            [(request)(expression)
                [(request)
                    [(name)
                                [Cooper]
                            ]
                            [(locationList)
                                [(location)(locationList)
                                    [Springfield]
                                    [(location)(locationList)
                                        [Pittsfield]
                                        [(location)
                                            [Boston]
                                        ]
                                    ]
                                ]
                            ]
                            [(timeRange)
                                [(time)
                                [15]
                                ]
                            ]
                            [(dateRange)
                                [(date)
                                    [11/26]
                                ]
                            ]
                ]
                [(request)(expression)
                    [(request)
                        [(name)
                                [Oscar]
                            ]
                            [(location)(locationList)
                                [NYC]
                                [(location)
                                    [Westchester]
                                ]
                            ]
                            [(timeRange)
                                [(time)
                                [9]
                                ]
                            ]
                            [(dateRange)
                                [(date)
                                    [11/5]
                                ]
                            ]
                    ]
                    [(offer)(expression)
                        [(offer)
                            [(name)
                        [Jacob]
                    ]
                    [(location)
                        [NYC]
                    ]
                    [(timeRange)
                        [(time)-(time)
                            [14]
                            [16]
                        ]
                    ]
                    [(dateRange)
                        [(date)-(date)
                            [11/5]
                            [11/6]
                        ]
                    ]
                    [(seatCount)
                        [(digit)+
                            [3]
                        ]
                    ]
                        ]
                        [(offer)
                        [(name)
                            [Jack]
                        ]
                        [(location)
                            [Boston]
                        ]
                        [(timeRange)
                            [(time)
                                [12]
                            ]
                        ]
                        [(dateRange)
                            [(date)
                                [11/26]
                            ]
                        ]
                        [(seatCount)
                            [(digit)+
                                [1]
                            ]
                        ]
                        ]
                    ]
                ]
            ]
          ]
        \end{forest}
      }
    }
  
    \newpage
    \item[v.] Once parsed, a program is evaluated by passing the list of offers/requests to an algorithm that maximizes the number of filed requests subject to the offer constraints. The program does not take any input as the program itself is a complete record of the offers and requests. The evaluated program should return a list of all the offers. Each offer should show which requests it fills if any. And there should also be a returned list of unmatched requests that couldn't be filled by the offers in the program.\\
    \\
    Evaluation remains a post-order traversal of the AST. Consider the following AST of the second example program which is copied here for reference. The AST is abbreviated since we don't need to fully depict all of the primitives).
    \begin{verbatim}
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats
Offer: Jack to Boston at 12 on 11/26 with 1 seats
Request: Cooper to Boston at 12 on 11/26
Request: Oscar to NYC at 9-17 on 11/5\end{verbatim}
    
    \begin{center}
    \begin{forest}
      [(expression)
        [(offer)(expression)
            [Offer: Jacob to NYC ...
            ]
            [(offer)(expression)
                [Offer: Jack to Boston...]
                [(request)(expression)
                    [Request: Cooper to Boston...]
                    [Request: Oscar to NYC....]  
                ]
            ]
        ]
      ]
    \end{forest}
  \end{center}
  Only the expressions in this language can be evaluated. We'll begin the post-order traversal at
  \begin{center}
      \begin{forest}
          [(request)(expression)
                    [Request: Cooper to Boston...]
                    [Request: Oscar to NYC....]  
                ]
      \end{forest}
  \end{center}
  Since we only have two requests, evaluating them just returns a list of the unmatched requests. Output could look like
  \begin{verbatim}
MATCHES:

UNMATCHED REQUESTS:
Request: Cooper to Boston at 12 on 11/26
Request: Oscar to NYC at 9-17 on 11/5\end{verbatim}
    Then we'll step up to 
    \begin{center}
      \begin{forest}
          [(offer)(expression)
                [Offer: Jack to Boston...]
                [...  
                ]
            ]
      \end{forest}
  \end{center}
  Now we can match Jack's offer to Cooper's request since the extra conditions can be satisifed for each. The return might look like
  \begin{verbatim}
MATCHES:
Offer: Jack to Boston at 12 on 11/26 with 1 seats
    FULLFILLS: Request: Cooper to Boston at 12 on 11/26

UNMATCHED REQUESTS:
Request: Oscar to NYC at 9-17 on 11/5\end{verbatim}
And lastly we'll step up to 
    \begin{center}
      \begin{forest}
          [(offer)(expression)
            [Offer: Jacob to NYC ...
            ]
            [...
            ]
        ]
      \end{forest}
  \end{center}
  Now we can match Jacob's offer to Oscar's request since the extra conditions can be satisfied for each. The return might look like
  \begin{verbatim}
MATCHES:
Offer: Jack to Boston at 12 on 11/26 with 1 seats
    FULLFILLS: Request: Cooper to Boston at 12 on 11/26
Offer: Jacob to NYC at 14-16 on 11/5-11/6 with 3 seats
    FULLFILLS: Request: Oscar to NYC at 9-17 on 11/5

UNMATCHED REQUESTS:
\end{verbatim}
Which would be our final evaluation.
\end{enumerate}


% DO NOT DELETE ANYTHING BELOW THIS LINE
\end{document}
Powered by Gitea Licenses APIhttps://www.overleaf.com/project/6559206e9c96f59e4ca20601